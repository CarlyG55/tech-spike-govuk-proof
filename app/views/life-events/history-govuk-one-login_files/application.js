"use strict";var cookies=function(n,o){var t="cookies_preferences_set",a=document.querySelector("#cookies-accepted"),c=document.querySelector("#cookies-rejected"),e=document.querySelectorAll(".cookie-hide-button"),i=document.querySelector(".govuk-cookie-banner"),r=document.querySelector("#cookies-banner-main"),d=document.querySelector('button[name="cookiesAccept"]'),s=document.querySelector('button[name="cookiesReject"]');function u(e){h(t,{analytics:e},{days:365}),w(r),e?(y(a),m()):y(c)}function l(){var e=JSON.parse(p(t));return!!e&&e.analytics}function m(){var e;(e=document.createElement("script")).type="text/javascript",e.setAttribute("async","true"),e.setAttribute("src","https://www.googletagmanager.com/gtm.js?id="+n),document.documentElement.firstChild.appendChild(e),function(){window.dataLayer=[{"gtm.allowlist":["google"],"gtm.blocklist":["adm","awct","sp","gclidw","gcs","opt"]},{department:{programmeteam:"di",productteam:"sso"}}];var e=window.location.search.includes("type")?window.location.pathname+window.location.search:window.location.pathname;(function(e){(e={"/manage-your-account":{sessionjourney:{journey:"account management"}},"/enter-password?type=changeEmail":g("change email","start"),"/change-email":g("change email","middle"),"/check-your-email":g("change email","middle"),"/email-updated-confirmation":g("change email","end"),"/enter-password?type=changePhoneNumber":g("change phone number","start"),"/change-phone-number":g("change phone number","middle"),"/check-your-phone":g("change phone number","middle"),"/phone-number-updated-confirmation":g("change phone number","end"),"/enter-password?type=changePassword":g("change password","start"),"/change-password":g("change password","middle"),"/password-updated-confirmation":g("change password","end"),"/enter-password?type=deleteAccount":g("delete account","start"),"/delete-account":g("delete account","middle"),"/account-deleted-confirmation":g("delete account","end")}[e])&&window.dataLayer.push(e)})(e),function(){var e=document.querySelector("html")&&document.querySelector("html").getAttribute("lang"),n={en:"english",cy:"welsh"};e&&n[e]&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"langEvent",language:n[e],languagecode:e}))}(),function(e){dataLayer.push(e)}({"gtm.start":(new Date).getTime(),event:"gtm.js"});var n=document.getElementById("gov-uk-accounts-link");n&&n.addEventListener("click",function(){var e=ga.getAll()[0],e=new window.gaplugins.Linker(e).decorate(n.href);window.location.href=e})}()}function g(e,n){return{sessionjourney:{journey:"account management",type:e,status:n}}}function p(e){for(var n=e+"=",t=document.cookie.split(";"),o=0,a=t.length;o<a;o++){for(var c=t[o];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(n))return decodeURIComponent(c.substring(n.length))}return null}function h(e,n,t){void 0===t&&(t={});e=e+"="+JSON.stringify(n);t.days&&((n=new Date).setTime(n.getTime()+24*t.days*60*60*1e3),e=e+"; expires="+n.toGMTString()+"; path=/; domain="+o+";"),"https:"===document.location.protocol&&(e+="; Secure"),document.cookie=e}function w(e){e.style.display="none"}function y(e){e.style.display="block"}return{cookieBannerInit:function(){d.addEventListener("click",function(e){e.preventDefault(),u(!0)}.bind(this)),s.addEventListener("click",function(e){e.preventDefault(),u(!1)}.bind(this)),Array.prototype.slice.call(e).forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),w(i)}.bind(this))}),p(t)||y(i)},isOnCookiesPage:function(){return-1!==window.location.pathname.indexOf("cookies")},cookiesPageInit:function(){var e=l();e?(h(t,{analytics:e}),document.querySelector("#policy-cookies-accepted").checked=e):document.querySelector("#policy-cookies-rejected").checked=!0,document.querySelector("#save-cookie-settings").addEventListener("click",function(e){(e=e).preventDefault(),e="true"===document.querySelector('#radio-cookie-preferences input[type="radio"]:checked').value,h(t,{analytics:e}),y(document.querySelector("#save-success-banner")),e&&m(),p("_ga")&&p("_gid")&&!e&&(e="_gat_gtag_"+n.replace(/-/g,"_"),h("_ga","",{days:-1}),h("_gid","",{days:-1}),h(e,"",{days:-1})),window.scrollTo(0,0)}.bind(this))},hasConsentForAnalytics:l,initAnalytics:m}};window.GOVSignIn=window.GOVSignIn||{},window.GOVSignIn.Cookies=cookies;var onIntNumberSelected=function(e,n){e.checked?(n.value="",n.disabled=!0,n.classList.add("govuk-input--disabled")):(n.disabled=!1,n.classList.remove("govuk-input--disabled"))};function initChangePhoneNumber(){var e,n=document.querySelector("#phoneNumber");n&&((e=document.querySelector("#hasInternationalPhoneNumber")).addEventListener("click",function(e){onIntNumberSelected(e.currentTarget,n)}),window.addEventListener("load",onIntNumberSelected(e,n)))}initChangePhoneNumber(),function(e){if(e.GOVSignIn&&e.GOVSignIn.Modules&&e.GOVSignIn.Modules.ShowPassword)for(var n=document.querySelectorAll('[data-module="show-password"]'),t=0,o=n.length;t<o;t++)GOVSignIn.Modules.ShowPassword.prototype.init&&new GOVSignIn.Modules.ShowPassword(n[t]).init();e.GOVSignIn.appInit=function(e,n){window.GOVUKFrontend.initAll(),(n=window.GOVSignIn.Cookies(e,n)).hasConsentForAnalytics()&&n.initAnalytics(),n.cookieBannerInit()}}(window);